document.addEventListener('DOMContentLoaded',() =>{const mobileBtn = document.querySelector('.mobile-toggle');const mobileMenu = document.querySelector('.mobile-menu');if (mobileBtn && mobileMenu){const icon = mobileBtn.querySelector('i');mobileBtn.addEventListener('click',() =>{const isOpening = !mobileMenu.classList.contains('active');mobileMenu.classList.toggle('active');if (isOpening){document.body.classList.add('menu-open');document.body.style.overflow = 'hidden';if (icon){icon.classList.remove('fa-bars');icon.classList.add('fa-times');}}else{document.body.classList.remove('menu-open');document.body.style.overflow = '';if (icon){icon.classList.remove('fa-times');icon.classList.add('fa-bars');}}});}document.querySelectorAll('.mobile-menu a').forEach(link =>{link.addEventListener('click',() =>{if (mobileMenu){mobileMenu.classList.remove('active');document.body.classList.remove('menu-open');document.body.style.overflow = '';}const icon = document.querySelector('.mobile-toggle i');if (icon){icon.classList.remove('fa-times');icon.classList.add('fa-bars');}});});const closeBtn = document.querySelector('.mobile-menu-close');if (closeBtn && mobileMenu){closeBtn.addEventListener('click',() =>{mobileMenu.classList.remove('active');document.body.classList.remove('menu-open');document.body.style.overflow = '';const icon = document.querySelector('.mobile-toggle i');if (icon){icon.classList.remove('fa-times');icon.classList.add('fa-bars');}});}document.querySelectorAll('.accordion-header').forEach(header =>{header.addEventListener('click',() =>{header.classList.toggle('active');const accordion = header.parentElement;const content = accordion.querySelector('.accordion-content');if (content){content.classList.toggle('active');}});});document.querySelectorAll('.faq-header').forEach(header =>{header.addEventListener('click',() =>{const faqItem = header.parentElement;const content = faqItem.querySelector('.faq-content');const isActive = faqItem.classList.contains('active');document.querySelectorAll('.faq-item').forEach(item =>{item.classList.remove('active');item.querySelector('.faq-content').style.display = 'none';});if (!isActive){faqItem.classList.add('active');content.style.display = 'block';}});});const observerOptions ={threshold:0.1,rootMargin:"0px 0px -50px 0px"};const observer = new IntersectionObserver((entries) =>{entries.forEach(entry =>{if (entry.isIntersecting){entry.target.classList.add('in-view');observer.unobserve(entry.target);}});},observerOptions);const animateElements = document.querySelectorAll('.value-card,.service-card,.talent-card,.section-header,.hero-content');const initCarousel = () =>{const cards = document.querySelectorAll('.talent-card-hero');if (!cards.length) return;let currentIndex = 0;const totalCards = cards.length;const updateCards = () =>{cards.forEach(card =>{card.classList.remove('active','next','prev');});cards[currentIndex].classList.add('active');const nextIndex = (currentIndex + 1) % totalCards;cards[nextIndex].classList.add('next');const prevIndex = (currentIndex - 1 + totalCards) % totalCards;cards[prevIndex].classList.add('prev');};updateCards();setInterval(() =>{currentIndex = (currentIndex + 1) % totalCards;updateCards();},3000);};initCarousel();const initTutorCarousel = () =>{const cards = document.querySelectorAll('.tutor-card');if (!cards.length) return;let currentIndex = 0;const totalCards = cards.length;const updateTutorCards = () =>{cards.forEach(card =>{card.classList.remove('active','next','prev');});cards[currentIndex].classList.add('active');const nextIndex = (currentIndex + 1) % totalCards;cards[nextIndex].classList.add('next');const prevIndex = (currentIndex - 1 + totalCards) % totalCards;cards[prevIndex].classList.add('prev');};updateTutorCards();setInterval(() =>{currentIndex = (currentIndex + 1) % totalCards;updateTutorCards();},4000);};initTutorCarousel();const styleSheet = document.createElement("style");styleSheet.textContent = `
.value-card,.service-card,.talent-card,.section-header,.hero-content{opacity:0;transform:translateY(30px);transition:opacity 0.6s ease-out,transform 0.6s ease-out;}.in-view{opacity:1;transform:translateY(0);}.value-card:nth-child(1){transition-delay:0.1s;}.value-card:nth-child(2){transition-delay:0.2s;}.value-card:nth-child(3){transition-delay:0.3s;}.talent-card:nth-child(1){transition-delay:0.1s;}.talent-card:nth-child(2){transition-delay:0.2s;}.talent-card:nth-child(3){transition-delay:0.3s;}.talent-card:nth-child(4){transition-delay:0.4s;}`;document.head.appendChild(styleSheet);animateElements.forEach(el => observer.observe(el));const tocSidebar = document.getElementById('toc-sidebar');const tocToggle = document.getElementById('toc-toggle');const tocClose = document.getElementById('toc-close');if (tocSidebar && tocToggle && tocClose){tocClose.addEventListener('click',() =>{tocSidebar.classList.add('hidden');tocToggle.classList.add('visible');});tocToggle.addEventListener('click',() =>{tocSidebar.classList.remove('hidden');tocToggle.classList.remove('visible');});}const tocMobile = document.getElementById('toc-mobile');const tocMobileToggle = document.getElementById('toc-mobile-toggle');if (tocMobile && tocMobileToggle){tocMobileToggle.addEventListener('click',() =>{tocMobile.classList.toggle('expanded');const isExpanded = tocMobile.classList.contains('expanded');tocMobileToggle.setAttribute('aria-expanded',isExpanded);});tocMobile.querySelectorAll('.toc-link').forEach(link =>{link.addEventListener('click',() =>{tocMobile.classList.remove('expanded');tocMobileToggle.setAttribute('aria-expanded','false');});});}document.querySelectorAll('.toc-link').forEach(link =>{link.addEventListener('click',(e) =>{e.preventDefault();const targetId = link.getAttribute('data-target') || link.getAttribute('href').substring(1);const targetEl = document.getElementById(targetId);if (targetEl){const headerOffset = 100;const elementPosition = targetEl.getBoundingClientRect().top;const offsetPosition = elementPosition + window.pageYOffset - headerOffset;window.scrollTo({top:offsetPosition,behavior:'smooth'});}});});const tocLinksDesktop = document.querySelectorAll('.toc-sidebar .toc-link');const tocLinksMobile = document.querySelectorAll('.toc-mobile .toc-link');const tocNav = document.querySelector('.toc-nav');const tocMobileContent = document.getElementById('toc-mobile-content');const headings =[];tocLinksDesktop.forEach(link =>{const targetId = link.getAttribute('data-target') || link.getAttribute('href').substring(1);const heading = document.getElementById(targetId);if (heading){headings.push({id:targetId,element:heading,desktopLink:link});}});tocLinksMobile.forEach(link =>{const targetId = link.getAttribute('data-target') || link.getAttribute('href').substring(1);const headingObj = headings.find(h => h.id === targetId);if (headingObj){headingObj.mobileLink = link;}});if (headings.length > 0){let lastActiveId = null;const scrollTocToActive = (desktopLink,mobileLink) =>{if (desktopLink && tocNav){desktopLink.scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});}if (mobileLink && tocMobileContent){mobileLink.scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});}};const updateActiveLink = () =>{const scrollPosition = window.scrollY + 150;let currentActiveId = null;let activeDesktopLink = null;let activeMobileLink = null;headings.forEach(({id,element,desktopLink,mobileLink}) =>{if (element.offsetTop <= scrollPosition){currentActiveId = id;activeDesktopLink = desktopLink;activeMobileLink = mobileLink;}});tocLinksDesktop.forEach(link =>{const linkTarget = link.getAttribute('data-target') || link.getAttribute('href').substring(1);link.classList.toggle('active',linkTarget === currentActiveId);});tocLinksMobile.forEach(link =>{const linkTarget = link.getAttribute('data-target') || link.getAttribute('href').substring(1);link.classList.toggle('active',linkTarget === currentActiveId);});if (currentActiveId && currentActiveId !== lastActiveId){lastActiveId = currentActiveId;scrollTocToActive(activeDesktopLink,activeMobileLink);}};window.addEventListener('scroll',updateActiveLink,{passive:true});updateActiveLink();}const seoToggle = document.getElementById('seo-content-toggle');const seoBox = document.getElementById('seo-content-box');if (seoToggle && seoBox){seoToggle.addEventListener('click',() =>{const isExpanded = seoBox.classList.contains('expanded');const expandText = seoToggle.getAttribute('data-expand-text');const collapseText = seoToggle.getAttribute('data-collapse-text');const btnText = seoToggle.querySelector('.btn-text');if (isExpanded){seoBox.classList.remove('expanded');if (btnText) btnText.textContent = expandText;seoBox.scrollIntoView({behavior:'smooth',block:'start'});}else{seoBox.classList.add('expanded');if (btnText) btnText.textContent = collapseText;}});}document.querySelectorAll('.youtube-facade').forEach(facade =>{facade.addEventListener('click',function (){if (this.classList.contains('loading') || this.querySelector('iframe')){return;}const embedUrl = this.dataset.embedUrl;if (!embedUrl) return;this.classList.add('loading');const iframe = document.createElement('iframe');iframe.src = embedUrl;iframe.title = 'YouTube Video';iframe.setAttribute('frameborder','0');iframe.setAttribute('allow','accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture');iframe.setAttribute('allowfullscreen','');iframe.addEventListener('load',() =>{this.classList.remove('loading');});this.appendChild(iframe);});});});